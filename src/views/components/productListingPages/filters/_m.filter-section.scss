/**
* Filters Section (Mobile)
**/

@import "_mixins.scss";
@import "_variables.scss";
@import "compass/css3/box-shadow";
@import "compass/css3/transform";
@import "compass/css3/flexbox";

.plp-section-container {
  &.search-from-navigation {
    /* Reset styles for search from keywords (typeahead) */
    .breadcrum-container {
      display: inline-block;
      width: 70%;
      margin-bottom: 0px;
      padding-bottom: 0px;
      border-bottom: 0px;
      position: relative;
      z-index: 1;
    }
  }

  .items-count-content {
    max-width: 30%;
    display: inline-block;
    padding-left: 15px;
  }

  .grid-container {
  // .products-grid-container {
    margin-top: -20px;
  }

  .search-by-keywords-container {
    width: 70%;
    display: inline-block;
    @include font-global-medium();

    .current-search {
      @include font-global-black();
    }
  }
}

.filter-and-sort-form-container {
  // margin-bottom: 20px;
  // border-bottom: solid 1px $color-primary-one-opacity;

  .items-count-container {
    text-align: right;
  }

  .items-count-content {
    @include font-global-black();
  }

  .toggle-filter-button-container {
    padding: 20px 16px;
    width: calc(100% + 32px);
    position: relative;
    left: -16px;
    // margin-top: 10px;
    border-bottom: solid 1px $color-primary-one-opacity;
    // border-top: solid 1px $color-primary-one-opacity;

    &.open-filter-section {
      padding-top: 0px;
      border: 0px;
    }

    &.mobile-form-action {
      padding: 20px 2px;
      left: 0px;
    }
  }

  .open-filter-section {

    /* NOTE: hacky trick to support shadow only at bottom of div */
    @include box-bottom-shadow();
  }

  .open-filter-button {
    @include button-quaternary(secondary);
  }

  .send-information-button {
    @include button-quaternary();
  }

  .send-information-button-black {
    @include button-quaternary();
    background-color: #000000;
  }

  /* Apply Button (send information to apply filters) */
  .apply-filter-button {
    @include button-quaternary(secondary);
  }

  .filter-size-and-color-container {
    position: relative;

    .clear-all-color-plp-filters,
    .clear-all-size-plp-filters {
      position: absolute;
      top: 12px;
      right: 10px;
      text-decoration: underline;
      color: #707070;
    }
  }
}

.available-filters-sorting-container {
  border-top: solid 1px $color-primary-one-opacity;
  width: calc(100% + 32px);
  left: -16px;
  padding: 0px 16px;
  position: relative;
  margin-top: 20px;
}

.filters-sorting-container {
  margin-bottom: 30px;
}

.department-filter-container {
  padding: 33px 0px 46px;
  // margin-top: 60px;
  // border-top: solid 1px $color-primary-one-opacity;
  width: calc(100% + 32px);
  left: -16px;
  position: relative;
}

.department-filter-title {
  @include heading-level-4();
  text-align: center;
  margin-bottom: 38px;
}

/* Department filter, when user search from keywords */
.department-detail-container {
  display: block;
  width: 40%;
  margin: 0 auto;

  .label-radio {
    padding: 0px;
  }

  .department-detail-item {
    display: block;
    margin-bottom: 4px;
    text-align: center;
  }

  .department-filter-title {
    @include heading-level-1();
    text-transform: none;
  }

  /* Reset Styles */
  .input-radio-icon-unchecked,
  .input-radio-icon-checked {
    display: none;
  }

  /* Reset Styles */
  .input-radio-title {
    line-height: normal;
    display: block;
  }
}

/*
* Expanded Custom Select
*/

/* Sorter Filter */
.sorter-filter-chips {
  margin-top: 25px;

  /* Title */
  > span {
    @include heading-level-4();
  }

  &.custom-select-common {
    outline: 0px;
  }

  /* Reset's Start */
  li {
    display: inline-block;
  }

  .list-container {
    position: relative;
    border: 0px;
    background: none;
  }

  .item-list-common {
    max-height: none;
  }

  .item-common {
    padding: 0px;
    width: auto;
  }

  .item-highlighted {
    background: none;
  }
  /* Reset's End */

  .sorter-filter-chips-item,
  .size-detail-chips-item,
  .categories-details-chips-item {
    padding: 0px;
    margin: 5px;

    /* First item's list */
    &:first-of-type {
      margin-left: 0px;
    }
  }

  .sort-title,
  .size-title {
    @include notification-secondary-text();
    padding: 5px 10px 2px;
    border: solid 1px $color-primary-four;
    display: inline-block;
  }

  .sorter-filter-chips-selected,
  .size-detail-chips-selected {
    .sort-title,
    .size-title {
      background: $color-primary-one;
      color: $color-global-white;
      border: solid 1px $color-primary-one;
    }
  }
}

/* Color Filter */
.color-detail-chips {
  @extend .sorter-filter-chips;
  margin-top: 10px;

  .color-detail-chips-item {
    margin-right: 5px;
  }

  .color-chip {
    width: 30px;
    height: 30px;
    padding: 0px;
    display: inline-block;
    vertical-align: middle;
    @include border-radius(50%);

    /* First item's list */
    &:first-of-type {
      margin-left: 0px;
    }
  }

  .color-detail-chips-selected {
    /* Color selected */
    .color-chip {
      border: solid 2px $color-primary-one;
    }
  }
}

/* Size Filter */
.size-detail-chips,
.categories-details-chips {
  @extend .sorter-filter-chips;
  margin-top: 10px;
}


/*
 * DT-33014
 * ALL AB TEST STYLES BELOW
 */
.new-filter-and-sort-form-container {

  .filters-sorting-container {
    margin-bottom: 0;
  }

  .available-filters-sorting-container {
    width: 100%;
    margin: 0;
    padding: 0;
    left: auto;
    border-top: 0;
  }

  .new-mobile-filter-container {
    display: inline-flex;
    width: 100%;
  }

  /* Styles for FILTER toggle button */
  .toggle-filter-button-container {
    width: 100%;
    left: 0;
    padding: 15px 0 5px;
    border: 0;

    .open-filter-button {
      @include icon-manual-chevron();

      &:before{
        right: 22px;
        background: #ffffff;
      }

      &:after {
        right: 17.5px;
        background: #ffffff;
      }
    }

    .open-filter-button-expanded {
      background: #CA0088;

      &:before {
        transform: rotate(135deg);
      }

      &:after {
        transform: rotate(-135deg);
      }
    }
  }

  /* Styles for SORT BY dropdown */
  .sorter-filter {
    @include font-global-heavy();
    padding: 15px 0 5px;
    margin-left: 5px;

    .item-selected {
      background: #838383;
    }

    .list-container {
      background: #fff;
      border: 0;
      box-shadow: 0px 3px 10px #999999;
    }

    .custom-select-button {
      @include font-global-heavy;
      font-size: 13px;
      text-transform: uppercase;
      display: block;
      color: #ffffff;
      text-align: center;
      padding: 0 10px;
      border: 0;
      height: 34px;
      line-height: 36px;
      background: #333333;
      margin: 0px;

      span:first-child {
        display: block;
      }

      &:before{
        right: 22px;
        background: #ffffff;
      }

      &:after {
        right: 17.5px;
        background: #ffffff;
      }
    }

    .sorter-filter-button {
      background: #CA0088;

      &:before {
        transform: rotate(135deg);
      }

      &:after {
        transform: rotate(-135deg);
      }
    }

    span:first-child {
      display: none;
    }
    .sorter-filter-item span:first-child {
      display: block;
    }
  }

  /* Styles for department filters */
  .department-filter-container {
    padding: 0;

    .department-detail-container {
      width: 75%;
    }

    .department-filter-title {
      margin: 20px 0;
      text-transform: uppercase;
    }

    .department-detail-items-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
    }

    .department-detail-item {
      width: 49%; // 49 instead of 50 to leave a space between each column
      height: 32px;
      margin-bottom: 6px;
      border: solid 1px #838383;

      .department-filter-title {
        @include font-global-heavy();
        font-size: 12px;
        line-height: 32px;
      }
    }

    .department-detail-item.item-selected-option {
        border: 0;
        background: #838383;

        .department-filter-title {
          color: #fff;
        }
    }
  }

  /* Styles for accordions */
  .accordion-filters-list {
    width: 100%;
    margin: 0;
    padding: 0;
    border-bottom: solid 1px #e3e3e3;

    .accordion-toggle {
      @include icon-tcp-plus();
      top: 26px;
      left: 10px;
      right: auto;

      &:before {
        border: none;
        font-size: 16px;
        @include transform(rotate(90deg));
      }
    }

    &.accordion-expanded .accordion-toggle {
      @include icon-tcp-minus();
    }

    .accordion-button-toggle {
      @include font-global-heavy();
      padding: 0;
      text-align: center;
      text-transform: uppercase;
      line-height: 15px;
    }

    .accordion-title {
      display: block;
      padding: 20px 0;
    }

    .accordion-element {
      margin-top: 0;
      padding: 0;
    }
  }

  /* Styles for Category, Color, and Size filters */
  .accordion-filters-list .custom-select-common {
    margin-top: 0;

    .item-list-common {
      display: flex;
      flex-wrap: wrap;
      margin-bottom: 10px;
    }

    li {
      display: block;
      width: 25%;
    }

    /* Category columns need to be wider to account for longer filter names */
    .categories-details-chips-items-list li {
      width: 50%;
    }

    .item-common {
      margin: 0 2px 4px;
    }

    .color-detail-chips-item {
      margin-bottom: 5px;
    }

    .size-title,
    .color-title {
      @include font-global-heavy();
      display: block;
      height: 32px;
      padding: 0;
      font-size: 11px;
      line-height: 32px;
      text-align: center;
      text-transform: uppercase;
      border: solid 1px #838383;
    }

    /* Colors are right aligned to prevent long names and images from overlapping */
    .color-title {
      text-align: right;
      padding: 0 5px 0 0;
    }

    .color-detail-chips-highlighted:not(.color-detail-chips-selected) .color-name {
      color: #333333;
    }

    .color-chip {
      position: absolute;
      left: 5px;
      top: 50%;
      transform: translateY(-50%);
      width: 15px;
      height: 15px;
      border: solid 1px #333333;
      overflow: hidden;
    }
  }

  /* Styles for selected Size and Color filters */
  .color-detail-chips-selected,
  .size-detail-chips-selected .size-title {
    background: #838383;
    border: 0;
    color: #fff;

    .color-name {
      color: #fff;
    }

    .color-chip {
      border: 0;
    }
  }

  /* Styles for Color and Size "Clear All" buttons */
  .accordion-filters-list {
    .clear-all-color-plp-filters,
    .clear-all-size-plp-filters {
      display: none;
      position: absolute;
      top: 20px;
      right: 10px;
      text-decoration: underline;
    }
  }

  .accordion-filters-list.accordion-expanded {
    .clear-all-color-plp-filters,
    .clear-all-size-plp-filters {
      display: block;
    }
  }

  /* Styles for applied filters */
  .applied-filters-list-container {
    margin-bottom: 10px;

    .applied-filters-sorting-container {
      width: 100%;
      left: auto;
    }

    .applied-filter-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      padding: 0;
      border: 0;
      text-align: center;
    }

    .applied-filters-list-title,
    .applied-filter-title {
      @include font-global-medium();
      font-size: 12px;
      text-transform: capitalize;
      text-align: center;
      color: #838383;
    }

    .applied-filters-list-title {
      margin-bottom: 5px;
    }

    .applied-filter-title {
      margin: 0 0 0 5px;
      line-height: 20px;
    }

    .applied-filter-item {
      min-width: calc(25% - 4px);
      height: 20px;
      margin: 0 2px 5px;
      padding: 0 10px;
      background: transparent;
      border: solid 1px #838383;
    }

    .applied-filter-remove-button {
      background: transparent;
      padding: 5px;

      &:before,
      &:after {
        background: #838383;
      }
    }

    .applied-filter-color-chip {
      display: none;
    }
  }

  .accordion-button-toggle .applied-filters-list-container {
    margin-top: -10px;
  }

  /* Only show applied filters when accordion is collapsed */
  .accordion-filters-list.accordion-expanded {
    .applied-filters-list-container {
      display: none;
    }
  }

  /* Styles for "DONE" and "CLEAR ALL" buttons */
  .mobile-form-action-button-container {
    display: flex;

    .mobile-form-action {
      padding: 20px 0;
    }

    div:last-of-type {
      margin-left: 5px;
    }

    .send-information-button-black {
      background: #fff;
      border: solid 1px #333333;
      color: #333333;
    }
  }

  /* Styles to expand/collapse list of available filters */
  .item-list-common.item-list-collapsible {
    height: 70px;
    overflow: hidden;
  }

  .item-list-common.item-list-collapsible-expanded {
    height: auto;
  }

  .expand-filters-toggle-button,
  .collapse-filters-toggle-button {
    @include icon-manual-chevron();
    display: block;
    margin: 0 auto 20px;
    text-decoration: underline;

    &:before,
    &:after {
      bottom: -10px;
    }

    &:before {
      right: calc(50% - 2px);
    }

    &:after {
      right: calc(50% - 8px);
    }
  }

  .collapse-filters-toggle-button {
    margin: 0 auto 10px;

    &:before,
    &:after {
      bottom: 18px;
    }

    &:before {
      transform: rotate(135deg);
    }

    &:after {
      transform: rotate(-135deg);
    }
  }

  /* Styles for items count */
  .items-count-content {
    @include font-global-regular();

    .items-count-content-number {
      @include font-global-heavy();
      font-size: 20px;
    }
  }
}

/* Styles for breadcrumbs and search keyword text */
.new-plp-section-container {
  .grid-container {
    margin-top: -30px;
  }

  .search-by-keywords-content {
    font-size: 12px;
  }

  .current-search {
    @include font-global-heavy();
    display: block;
    font-size: 20px;
  }

  &.search-result-container {
    p:last-of-type {
      display: block;
    }

    .breadcrum-item,
    .breadcrum-last-item {
      @include font-global-heavy();
    }

    .breadcrum-last-item {
      font-size: 20px;
      color: #333333;
    }
  }
}
